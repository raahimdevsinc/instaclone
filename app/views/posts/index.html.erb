<%= stylesheet_link_tag "post", media: "all" %>

<p style="color: green"><%= notice %></p>

<% if user_signed_in? %>
  <% current_user.follow_requests.each do |request| %>
    <%= request.followerable.email %> Wants to follow you <br>
    <%= button_to "Accept", accept_path(request.followerable) %>
    <%= button_to "Decline", decline_path(request.followerable) %>
  <% end %>

  <h3>Followers</h3>
  <% current_user.followers.each do |follower| %>
    <p>
      <b><%= link_to follower.email, follower %></b>
    </p>
  <% end %>

  <h3>Following</h3>
  <% current_user.following.each do |following| %>
    <p>
      <b><%= link_to following.email, following %></b>
    </p>
  <% end %>
<% end %>

<%= turbo_frame_tag :results, data: { turbo_action: 'advance' } do %>
  <div id="posts">
    <%= render @posts %>
  </div>
  <%= turbo_frame_tag :pagination, loading: :lazy, src: posts_path(format: :turbo_stream) %>
<% end %>
